{"version":3,"sources":["./src/$_lazy_route_resource lazy","./src/app/app-routing.module.ts","./src/app/app.component.css","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/deckgl/deckgl.component.css","./src/app/deckgl/deckgl.component.html","./src/app/deckgl/deckgl.component.ts","./src/app/demo-london/demo-london.component.css","./src/app/demo-london/demo-london.component.html","./src/app/demo-london/demo-london.component.ts","./src/app/london-accident.service.ts","./src/app/map-box/map-box.component.css","./src/app/map-box/map-box.component.html","./src/app/map-box/map-box.component.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { DemoLondonComponent } from './demo-london/demo-london.component';\n\nconst routes: Routes = [\n  { path: 'demo/london', component: DemoLondonComponent }\n];\n\n@NgModule({\n  imports: [ RouterModule.forRoot(routes, { useHash: true }) ],\n  exports: [ RouterModule ]\n})\n\nexport class AppRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app-routing.module.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = ./src/app/app.component.css\n// module chunks = main","module.exports = \"<nav>\\n  <a routerLink=\\\"/\\\">Home</a>\\n  <a routerLink=\\\"/demo/london\\\">Demo car accident in London</a>\\n</nav>\\n<router-outlet></router-outlet>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\n\nimport { AppComponent } from './app.component';\nimport { DeckglComponent } from './deckgl/deckgl.component';\nimport { MapBoxComponent } from './map-box/map-box.component';\nimport { AppRoutingModule } from './/app-routing.module';\nimport { DemoLondonComponent } from './demo-london/demo-london.component';\nimport { LondonAccidentService } from './london-accident.service';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    DeckglComponent,\n    MapBoxComponent,\n    DemoLondonComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule\n  ],\n  providers: [LondonAccidentService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/deckgl/deckgl.component.css\n// module id = ./src/app/deckgl/deckgl.component.css\n// module chunks = main","module.exports = \"<canvas [id]=\\\"glId\\\"></canvas>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/deckgl/deckgl.component.html\n// module id = ./src/app/deckgl/deckgl.component.html\n// module chunks = main","import { Component, AfterViewInit, Input, Output, OnChanges, NgZone, EventEmitter } from '@angular/core';\nimport { experimental, GeoJsonLayer } from 'deck.gl/dist-es6/';\nimport { LineLayer, HexagonLayer } from 'deck.gl/dist-es6/core-layers';\n\nconst { DeckGLJS, MapControllerJS } = experimental;\n\nconst colorRange = [\n  [1, 152, 189],\n  [73, 227, 206],\n  [216, 254, 181],\n  [254, 237, 177],\n  [254, 173, 84],\n  [209, 55, 78],\n];\n\nconst LIGHT_SETTINGS = {\n  lightsPosition: [-0.144528, 49.739968, 8000, -3.807751, 54.104682, 8000],\n  ambientRatio: 0.4,\n  diffuseRatio: 0.6,\n  specularRatio: 0.2,\n  lightsStrength: [0.8, 0.0, 0.8, 0.0],\n  numberOfLights: 2,\n};\n\nconst elevationScale = { min: 1, max: 50 };\n\n\n@Component({\n  selector: 'app-deckgl',\n  templateUrl: './deckgl.component.html',\n  styleUrls: ['./deckgl.component.css']\n})\n\nexport class DeckglComponent implements AfterViewInit, OnChanges {\n\n  @Input() data: Array<{}>;\n  @Input() width: number;\n  @Input() height: number;\n  @Input() glId: string;\n  @Output() viewPortChange = new EventEmitter();\n\n  private deckgl;\n  private controller;\n  private intervalTimer;\n  private elevationScale = elevationScale.min;\n\n  private viewport = {\n    latitude: 52,\n    longitude: -0.4,\n    zoom: 7,\n    pitch: 20,\n    bearing: 0,\n    width: this.width,\n    height: this.height,\n  };\n\n  constructor(public ngZone: NgZone) {\n    this.elevationScale = 1;\n  }\n\n  ngOnChanges(changes) {\n    if (this.deckgl) {\n      this.ngZone.runOutsideAngular(() => {\n        requestAnimationFrame(() => {\n          this.updateLayers();\n\n          if (changes.data) {\n            this.startAnimate();\n          }\n        });\n      });\n    }\n  }\n\n  startAnimate() {\n    this.intervalTimer = window.setInterval(this.animateHeight, 20);\n  }\n\n  animateHeight = () => {\n    if (this.elevationScale === elevationScale.max) {\n      this.stopAnimate();\n    } else {\n      this.ngZone.runOutsideAngular(() => {\n        requestAnimationFrame(() => {\n          this.elevationScale = this.elevationScale + 1;\n          this.updateLayers();\n        });\n      });\n    }\n  };\n\n  stopAnimate() {\n    window.clearTimeout(this.intervalTimer);\n  }\n\n  ngAfterViewInit() {\n    this.ngZone.runOutsideAngular(() => {\n        this.deckgl = new DeckGLJS({\n          ...this.viewport,\n          debug: true,\n          layers: [],\n          canvas: document.getElementById(this.glId),\n          width: this.width || 500,\n          height: this.height || 500,\n        });\n\n        this.deckgl.canvas.style.position = 'absolute';\n        this.deckgl.canvas.style.top = '0';\n        this.deckgl.canvas.style.left = '0';\n        this.deckgl.canvas.style.width = '100%';\n        this.deckgl.canvas.style.height = '100%';\n\n        this.controller = new MapControllerJS({\n          canvas: this.deckgl.canvas,\n          ...this.viewport,\n          onViewportChange: this.onViewportChange,\n          width: this.width || 500,\n          height: this.height || 500,\n        });\n        this.updateLayers();\n    });\n  }\n\n  onViewportChange = (viewport): void => {\n    this.viewport = viewport;\n    this.deckgl.setProps(viewport);\n    this.controller.setProps(viewport);\n    this.updateLayers();\n    this.ngZone.runOutsideAngular(() => {\n      this.viewPortChange.emit(viewport);\n    });\n  }\n\n\n  updateLayers() {\n    if (this.deckgl) {\n      const layers = [\n        new LineLayer({\n          id: 'line-layer',\n          strokeWdith: 10,\n\n          data: [\n            {\n              sourcePosition: [52, 22.3379040],\n              targetPosition: [52, 100],\n              color: [255, 0, 0],\n            },\n            {\n              sourcePosition: [-0.4, 22.3379040],\n              targetPosition: [-0.4, 100],\n              color: [255, 0, 0],\n            },\n          ],\n        }),\n      ];\n\n      if (this.data && this.data.length > 0) {\n        layers.push(\n          new HexagonLayer({\n            data: this.data,\n            id: 'heatmap',\n            colorRange,\n            coverage: 1,\n            lightSettings: LIGHT_SETTINGS,\n            elevationRange: [0, 3000],\n            elevationScale: this.elevationScale,\n            extruded: true,\n            getPosition: d => d,\n            opacity: 1,\n            radius: 1000,\n            upperPercentile: 100,\n          }),\n        );\n      }\n\n      const w = this.width;\n      const h = this.height;\n      this.ngZone.runOutsideAngular(() => {\n        this.deckgl.setProps({\n          layers,\n          width: w,\n          height: h,\n        });\n      });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/deckgl/deckgl.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/demo-london/demo-london.component.css\n// module id = ./src/app/demo-london/demo-london.component.css\n// module chunks = main","module.exports = \"<app-map-box mapName=\\\"demo-london\\\" (mapSizeChange)=\\\"onMapChangeSize($event)\\\" [viewport]=\\\"deckViewPort\\\">\\n  <app-deckgl\\n    glId=\\\"demo-london-deckgl\\\"\\n    (viewPortChange)=\\\"onViewPortChange($event)\\\"\\n    [data]=\\\"data\\\"\\n    [width]=\\\"mapWidth\\\"\\n    [height]=\\\"mapHeight\\\">\\n  </app-deckgl>\\n</app-map-box>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/demo-london/demo-london.component.html\n// module id = ./src/app/demo-london/demo-london.component.html\n// module chunks = main","import { Component, OnInit, NgZone, Injectable, ApplicationRef } from '@angular/core';\n\nimport { LondonAccidentService } from '../london-accident.service';\n\n@Injectable()\n@Component({\n  selector: 'app-demo-london',\n  templateUrl: './demo-london.component.html',\n  styleUrls: ['./demo-london.component.css']\n})\nexport class DemoLondonComponent implements OnInit {\n  data;\n  deckViewPort;\n  mapHeight: number;\n  mapWidth: number;\n\n  constructor(private londonAccidentService: LondonAccidentService, private ngZone: NgZone, private ref: ApplicationRef) { }\n\n  ngOnInit() {\n    this.londonAccidentService.getDataAccident().then((data) => {\n      this.data = data;\n    }).catch((e) => {\n      console.log(e);\n    });\n  }\n\n  onMapChangeSize(data: {mapWidth, mapHeight}) {\n    this.mapWidth = data.mapWidth;\n    this.mapHeight = data.mapHeight;\n  }\n\n  onViewPortChange = (viewport) => {\n    // this.ngZone.run(() => {\n    //   this.deckViewPort = viewport;\n    // });\n    this.deckViewPort = viewport;\n    this.ref.tick();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/demo-london/demo-london.component.ts","import { Injectable } from '@angular/core';\nimport { csv as requestCsv } from 'd3-request';\n\nconst DATA_URL =\n  'https://raw.githubusercontent.com/uber-common/deck.gl-data/master/examples/3d-heatmap/heatmap-data.csv';\n\n@Injectable()\nexport class LondonAccidentService {\n\n  constructor() { }\n\n  getDataAccident(): Promise<{}> {\n    return new Promise((resolve, reject) => {\n      requestCsv(DATA_URL, (error, response) => {\n        if (!error) {\n          const data = response.map(d => [Number(d.lng), Number(d.lat)]);\n          resolve(data);\n        }\n        reject(error);\n      });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/london-accident.service.ts","module.exports = \".map-box {\\n  position: relative;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map-box/map-box.component.css\n// module id = ./src/app/map-box/map-box.component.css\n// module chunks = main","module.exports = \"<p>\\n  London car accidents from 1979\\n</p>\\n<div *ngIf=\\\"mapName\\\">\\n  <div class=\\\"map-box\\\">\\n    <div [id]=\\\"mapName\\\" style=\\\"height: 100vh\\\"></div>\\n    <ng-content></ng-content>\\n  </div>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map-box/map-box.component.html\n// module id = ./src/app/map-box/map-box.component.html\n// module chunks = main","import {\n  Component,\n  Input,\n  AfterViewInit,\n  OnDestroy,\n  OnChanges,\n  NgZone,\n  Output,\n  EventEmitter,\n} from '@angular/core';\nimport * as mapboxgl from 'mapbox-gl';\nimport * as debounce from 'lodash.debounce';\n\n@Component({\n  selector: 'app-map-box',\n  templateUrl: './map-box.component.html',\n  styleUrls: ['./map-box.component.css']\n})\n\nexport class MapBoxComponent implements AfterViewInit, OnDestroy, OnChanges {\n  map;\n  mapWidth: number;\n  mapHeight: number;\n\n  @Input() viewport;\n  @Input() mapName: string;\n  @Output() mapSizeChange = new EventEmitter();\n\n  onDebounceResize;\n\n  constructor(public ngZone: NgZone) {\n    this.onDebounceResize = debounce(this.onResize, 10);\n    window.addEventListener('resize', this.onDebounceResize);\n  }\n\n  onResize = () => {\n    if (this.map) {\n      const c = this.map.getCanvas();\n      this.mapHeight = c.height;\n      this.mapWidth = c.width;\n      this.mapSizeChange.emit({\n        mapHeight: this.mapHeight,\n        mapWidth: this.mapWidth,\n      });\n    }\n  }\n\n  ngOnChanges(changes) {\n    if (this.map && changes.viewport) {\n      const {\n        zoom,\n        bearing,\n        pitch,\n        longitude,\n        latitude,\n        maxZoom,\n        minZoom,\n      } = this.viewport;\n      this.map.flyTo({\n        duration: 0,\n        bearing,\n        pitch,\n        zoom,\n        maxZoom,\n        minZoom,\n        center: [longitude, latitude]\n      });\n    }\n  }\n\n  ngAfterViewInit() {\n    this.ngZone.runOutsideAngular(() => {\n      requestAnimationFrame(() => {\n        mapboxgl.accessToken = 'pk.eyJ1IjoiZ2lhbmduZ3V5ZW5kZXYiLCJhIjoiY2pmbXRmMGgwMHp2MjMzbXNnY2xmazB5ZyJ9.iK3EVwAZPCHNYUqIVzR6EQ';\n        this.map = new mapboxgl.Map({\n          container: this.mapName,\n          style: 'mapbox://styles/mapbox/dark-v9',\n          center: [-0.4, 52],\n          zoom: 7,\n          pitch: 20,\n        });\n        const c = this.map.getCanvas();\n        this.mapHeight = c.height;\n        this.mapWidth = c.width;\n        this.mapSizeChange.emit({\n          mapHeight: this.mapHeight,\n          mapWidth: this.mapWidth,\n        });\n      });\n    });\n  }\n\n  ngOnDestroy() {\n    window.removeEventListener('resize', this.onDebounceResize);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map-box/map-box.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}